<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head>

    <!-- Import MochiKit modules: require MochiKit library functions to be fully qualified -->
    <script type="text/javascript">MochiKit = {__export__: false};</script>
    <script type="text/javascript" src="../../MochiKit/Base.js"></script>
    <script type="text/javascript" src="../../MochiKit/Iter.js"></script>
    <script type="text/javascript" src="../../MochiKit/Logging.js"></script>

    <!-- Import jQuery, unit testing framework and related scripts -->
    <link rel="stylesheet" type="text/css" href="../../qunit/testsuite.css" media="screen" />
    <script type="text/javascript" src="../../jQuery/js/jquery-1.3.2.js"></script> 
    <script type="text/javascript" src="../../qunit/testrunner.js"></script>
    <!-- 
    <link rel="stylesheet" type="text/css" href="../../jQuery/css/ui-lightness/jquery-ui-1.7.2.custom.css" />  
    <script type="text/javascript" src="../../jQuery/js/jquery-ui-1.7.2.custom.min.js"></script>
     -->
    <script>
    // Use jQuery via jQuery(...)
      jQuery.noConflict();
    </script>

    <!-- rddfQuery plug-ins
    <script type="text/javascript" src="../../jQuery/jquery.uri.js"></script>
    <script type="text/javascript" src="../../jQuery/jquery.rdfquery.core-1.0.js"></script>
     -->
    <script type="text/javascript" src="../../jQuery/jquery.uri.js"></script>

    <!-- Execute tests -->
    <script>

    function updateobj(obj) {
        obj.b = "b";
    }
    
    function useobj1(obj) {
        return obj;
    };
    
    function useobj2(obj) {
        updateobj(obj);
        //print obj.a;
        //print obj.b;
        return obj;
    };

    jQuery(document).ready( function () {
        test("ObjectLiteralReferenceUpdate", function () {
            var o = useobj1({a:'a'});
            equals(o.a,'a',"a1");
            equals(o.b,undefined,"b1");
            var o = useobj2({a:'a'});
            equals(o.a,'a',"a2");
            equals(o.b,'b',"b2");
            var o = useobj1({a:'a'});
            equals(o.a,'a',"a3");
            equals(o.b,undefined,"b3");
        });
    });
  

    </script>  

</head>

<body>
    <h1>Shuffl tests</h1>
    <h2 id="banner"></h2>
    <h2 id="userAgent"></h2>
    <ol id="tests"></ol>
    <div id="main"></div> 
</body>

</html>




